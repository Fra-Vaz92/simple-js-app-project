let pokemonRepository=function(){let e=[];function t(t){let n=["name","detailsUrl","imageUrl"];"object"==typeof t&&Object.keys(t).every(e=>n.includes(e))&&e.push(t)}function n(){return e}function o(e){let t=document.querySelector(".pokemon-list"),n=document.createElement("li"),o=document.createElement("button");o.innerText=e.name,o.classList.add("pokemon-button"),o.classList.add("list-group-item"),n.appendChild(o),t.appendChild(n),o.addEventListener("click",function(t){(function e(t){a(t).then(function(){$("#pokemonName").text(t.name),$("#pokemonHeight").text("Height: "+t.height),$("#pokemonImage").attr("src",t.imageUrl),$("#pokemonWeight").text("Weight: "+t.weight),$("#pokemonTypes").text("Types: "+t.types),$("#pokemonAbilities").text("Abilities: "+t.abilities),$("#pokemonModal").modal("show")})})(e)})}async function i(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){let n={name:e.name,detailsUrl:e.url};t(n),console.log(n)})}).catch(function(e){console.error(e)})}async function a(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types.map(e=>e.type.name),e.abilities=t.abilities.map(e=>e.ability.name)}).catch(function(e){console.error(e)})}return{add:t,getAll:n,addListItem:o,loadList:i,loadDetails:a,showModal:function e(t){let n=$(".modal-body"),o=$(".modal-title");$(".modal-header"),o.empty(),n.empty();let i=$("<h1>"+t.name+"</h1>"),a=$('<img class="modal-img" style ="width:50%">');a.attr("src",t.imageUrlFront);let l=$('<img class="modal-img" style ="width:50%">');l.attr("src",t.imageUrlBack);let r=$("<p>height: "+t.height+"</p>"),s=$("<p>weight: "+t.weight+"</p>"),p=$("<p>types: "+t.types+"</p>"),m=$("<p>abilities: "+t.abilities+"</p>");o.append(i),n.append(a),n.append(l),n.append(r),n.append(s),n.append(p),n.append(m)},searchPokemon:function t(n){let i=e.filter(e=>e.name.toLowerCase().includes(n.toLowerCase()));document.querySelector(".pokemon-list").innerHTML="",i.forEach(o)}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});let searchBar=document.getElementById("pokemon-search-bar");function filterbyName(e){return pokemonRepository.getAll().filter(e=>e.name.toLowerCase().includes(pokemonName.toLowerCase()))}searchBar.addEventListener("keyup",function(e){let t=e.target.value;pokemonRepository.searchPokemon(t)});